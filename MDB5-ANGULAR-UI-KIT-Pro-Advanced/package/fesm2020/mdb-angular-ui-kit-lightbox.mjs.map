{"version":3,"file":"mdb-angular-ui-kit-lightbox.mjs","sources":["../../../projects/mdb-angular-ui-kit/lightbox/lightbox-item.directive.ts","../../../projects/mdb-angular-ui-kit/lightbox/lightbox-modal.component.ts","../../../projects/mdb-angular-ui-kit/lightbox/lightbox-modal.component.html","../../../projects/mdb-angular-ui-kit/lightbox/lightbox.component.ts","../../../projects/mdb-angular-ui-kit/lightbox/lightbox.module.ts","../../../projects/mdb-angular-ui-kit/lightbox/mdb-angular-ui-kit-lightbox.ts"],"sourcesContent":["import { BooleanInput, coerceBooleanProperty } from '@angular/cdk/coercion';\nimport {\n  Directive,\n  ElementRef,\n  HostBinding,\n  HostListener,\n  Input,\n  OnDestroy,\n  OnInit,\n} from '@angular/core';\nimport { Subject } from 'rxjs';\n\n@Directive({\n  selector: '[mdbLightboxItem]',\n  exportAs: 'mdbLightboxItem',\n})\nexport class MdbLightboxItemDirective implements OnDestroy {\n  @Input() caption: string;\n  @Input() img: string;\n\n  @Input()\n  get disabled(): boolean {\n    return this._disabled;\n  }\n  set disabled(value: boolean) {\n    this._disabled = coerceBooleanProperty(value);\n  }\n  private _disabled = false;\n\n  click$ = new Subject<MdbLightboxItemDirective>();\n\n  @HostListener('click', ['$event.target'])\n  onClick(): void {\n    if (this.disabled) {\n      return;\n    }\n\n    this.click$.next(this);\n  }\n\n  @HostBinding('class.lightbox-disabled')\n  get isDisabled(): boolean {\n    return this.disabled;\n  }\n\n  constructor(public el: ElementRef) {}\n\n  ngOnDestroy(): void {\n    this.click$.complete();\n  }\n\n  static ngAcceptInputType_flush: BooleanInput;\n}\n","import { animate, keyframes, style, transition, trigger } from '@angular/animations';\nimport { ConfigurableFocusTrap, ConfigurableFocusTrapFactory } from '@angular/cdk/a11y';\nimport { DOCUMENT } from '@angular/common';\nimport {\n  Component,\n  AfterViewInit,\n  ChangeDetectionStrategy,\n  ViewChild,\n  QueryList,\n  Renderer2,\n  Inject,\n  forwardRef,\n  ElementRef,\n  ChangeDetectorRef,\n  HostListener,\n  OnDestroy,\n  ViewChildren,\n} from '@angular/core';\nimport { fromEvent } from 'rxjs';\nimport { take } from 'rxjs/operators';\nimport { MdbLightboxItemDirective } from './lightbox-item.directive';\nimport { MdbLightboxComponent } from './lightbox.component';\n\n@Component({\n  selector: 'mdb-lightbox-modal',\n  templateUrl: './lightbox-modal.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  animations: [\n    trigger('fade', [\n      transition(':enter', [\n        style({ opacity: 0 }),\n        animate(\n          '1500ms',\n          keyframes([\n            style({ opacity: 0, transform: 'scale3d(0.3, 0.3, 0.3)', offset: 0, easing: 'ease' }),\n            style({\n              opacity: 1,\n              transform: 'scale3d(1, 1, 1)',\n              offset: 0.5,\n              easing: 'ease',\n              display: 'block',\n            }),\n          ])\n        ),\n      ]),\n      transition(':leave', [\n        style({ opacity: 1 }),\n        animate(\n          '1500ms',\n          keyframes([\n            style({ opacity: 1, offset: 0 }),\n            style({ opacity: 0, transform: 'scale3d(0.3, 0.3, 0.3)', offset: 0.5 }),\n            style({ opacity: 0, offset: 1 }),\n          ])\n        ),\n      ]),\n    ]),\n  ],\n})\nexport class MdbLightboxModalComponent implements AfterViewInit, OnDestroy {\n  @ViewChild('galleryToolbar') galleryToolbar: ElementRef;\n  @ViewChild('btnPrevious') btnPrevious: ElementRef;\n  @ViewChild('btnNext') btnNext: ElementRef;\n  @ViewChild('rightArrow') rightArrow: ElementRef;\n  @ViewChild('leftArrow') leftArrow: ElementRef;\n  @ViewChild('btnFullsreen') btnFullsreen: ElementRef;\n  @ViewChild('btnZoom') btnZoom: ElementRef;\n  @ViewChild('loader') loader: ElementRef;\n  @ViewChildren('imageWrapper') imageWrappers: QueryList<ElementRef>;\n  @ViewChildren('image') images: QueryList<ElementRef>;\n\n  @HostListener('mousemove')\n  onHostMousemove(): void {\n    this._resetToolsToggler();\n  }\n\n  @HostListener('keyup', ['$event'])\n  onHostKeyup(event: KeyboardEvent): void {\n    this._onKeyup(event);\n  }\n\n  @HostListener('click', ['$event.target'])\n  onHostClick(target: HTMLElement): void {\n    this._resetToolsToggler();\n\n    if (target.tagName !== 'DIV') {\n      return;\n    }\n\n    this.close();\n  }\n\n  lightbox: MdbLightboxComponent;\n  lightboxItems: QueryList<MdbLightboxItemDirective>;\n  activeLightboxItem: MdbLightboxItemDirective;\n  zoomLevel: number;\n  index: number;\n  total: number;\n  animationState = '';\n  slideRight: boolean;\n  activeModalImageIndex = 1;\n\n  private _slideTimer: ReturnType<typeof setTimeout>;\n  private _toolsToggleTimer: ReturnType<typeof setTimeout>;\n  private _zoomTimer: ReturnType<typeof setTimeout>;\n  private _doubleTapTimer: ReturnType<typeof setTimeout>;\n  private _focusTrap: ConfigurableFocusTrap;\n  private _previouslyFocusedElement: HTMLElement;\n  private _fullscreen = false;\n  private _scale = 1;\n  private _mousedown = false;\n  private _positionX: number;\n  private _positionY: number;\n  private _mousedownPositionX: number;\n  private _mousedownPositionY: number;\n  private _originalPositionX: number;\n  private _originalPositionY: number;\n  private _tapCounter = 0;\n  private _tapTime = 0;\n  private _toolsTimeout = 4000;\n  private _doubleTapTimeout = 300;\n\n  constructor(\n    private _renderer: Renderer2,\n    private _elementRef: ElementRef,\n    private _cdRef: ChangeDetectorRef,\n    private _focusTrapFactory: ConfigurableFocusTrapFactory,\n    @Inject(DOCUMENT) private _document,\n    @Inject(forwardRef(() => MdbLightboxComponent)) _lightbox: MdbLightboxComponent\n  ) {\n    this.lightbox = _lightbox;\n  }\n\n  ngAfterViewInit(): void {\n    this.index = this.lightboxItems.toArray().indexOf(this.activeLightboxItem);\n    this.total = this.lightboxItems.toArray().length;\n    this._setActiveImageData();\n\n    this._setToolsToggleTimeout();\n    this._disableScroll();\n    this._previouslyFocusedElement = this._document.activeElement as HTMLElement;\n    this._focusTrap = this._focusTrapFactory.create(this._elementRef.nativeElement);\n    this._focusTrap.focusInitialElementWhenReady();\n\n    this._setDefaultAnimationStyle();\n    this._preloadInactiveImages();\n  }\n\n  ngOnDestroy(): void {\n    this._previouslyFocusedElement.focus();\n    this._focusTrap.destroy();\n    this._enableScroll();\n  }\n\n  get activeImageElement(): HTMLImageElement {\n    return this.images.toArray()[this.activeModalImageIndex].nativeElement;\n  }\n\n  get activeImageWrapper(): HTMLElement {\n    return this.imageWrappers.toArray()[this.activeModalImageIndex].nativeElement;\n  }\n\n  get nextImageWrapper(): HTMLElement {\n    if (this.activeModalImageIndex < this.images.length - 1) {\n      return this.imageWrappers.toArray()[this.activeModalImageIndex + 1].nativeElement;\n    } else if ((this.activeModalImageIndex = this.images.length - 1)) {\n      return this.imageWrappers.toArray()[0].nativeElement;\n    }\n  }\n\n  get previousImageWrapper(): HTMLElement {\n    if (this.activeModalImageIndex > 0) {\n      return this.imageWrappers.toArray()[this.activeModalImageIndex - 1].nativeElement;\n    } else if ((this.activeModalImageIndex = 0)) {\n      return this.imageWrappers.toArray()[this.images.length].nativeElement;\n    }\n  }\n\n  get nextImage(): HTMLImageElement {\n    if (this.activeModalImageIndex < this.images.length - 1) {\n      return this.images.toArray()[this.activeModalImageIndex + 1].nativeElement;\n    } else if (this.activeModalImageIndex === this.images.length - 1) {\n      return this.images.toArray()[0].nativeElement;\n    }\n  }\n\n  get previousImage(): HTMLImageElement {\n    if (this.activeModalImageIndex > 0) {\n      return this.images.toArray()[this.activeModalImageIndex - 1].nativeElement;\n    } else if (this.activeModalImageIndex === 0) {\n      return this.images.toArray()[this.images.length - 1].nativeElement;\n    }\n  }\n\n  onMousedown(event): void {\n    const touch = event.touches;\n    const x = touch ? touch[0].clientX : event.clientX;\n    const y = touch ? touch[0].clientY : event.clientY;\n\n    this._originalPositionX = parseFloat(this.activeImageElement.style.left) || 0;\n    this._originalPositionY = parseFloat(this.activeImageElement.style.top) || 0;\n    this._positionX = this._originalPositionX;\n    this._positionY = this._originalPositionY;\n    this._mousedownPositionX = x * (1 / this._scale) - this._positionX;\n    this._mousedownPositionY = y * (1 / this._scale) - this._positionY;\n    this._mousedown = true;\n  }\n\n  onMousemove(event): void {\n    if (!this._mousedown) return;\n\n    const touch = event.touches;\n    const x = touch ? touch[0].clientX : event.clientX;\n    const y = touch ? touch[0].clientY : event.clientY;\n\n    if (touch) this._resetToolsToggler();\n\n    if (this._scale !== 1) {\n      this._positionX = x * (1 / this._scale) - this._mousedownPositionX;\n      this._positionY = y * (1 / this._scale) - this._mousedownPositionY;\n\n      this._renderer.setStyle(this.activeImageElement, 'left', `${this._positionX}px`);\n      this._renderer.setStyle(this.activeImageElement, 'top', `${this._positionY}px`);\n    } else {\n      if (this.total <= 1) return;\n\n      this._positionX = x * (1 / this._scale) - this._mousedownPositionX;\n      this._renderer.setStyle(this.activeImageElement, 'left', `${this._positionX}px`);\n    }\n  }\n\n  onMouseup(event: MouseEvent): void {\n    this._mousedown = false;\n    this._moveImg(event.target as HTMLElement);\n    this._checkDoubleTap(event);\n  }\n\n  zoom(): void {\n    if (this._scale === 1) {\n      this.zoomIn();\n    } else {\n      this.zoomOut();\n    }\n  }\n\n  close(): void {\n    this._renderer.setStyle(this.activeImageWrapper, 'transform', 'scale(0.25)');\n    this._renderer.setStyle(this.activeImageWrapper, 'opacity', 0);\n    this.lightbox.close();\n  }\n\n  toggleFullscreen(): void {\n    if (this._fullscreen === false) {\n      this._renderer.addClass(this.btnFullsreen.nativeElement, 'active');\n\n      if (this._elementRef.nativeElement.requestFullscreen) {\n        this._elementRef.nativeElement.requestFullscreen();\n      }\n\n      this._fullscreen = true;\n    } else {\n      this._renderer.removeClass(this.btnFullsreen.nativeElement, 'active');\n\n      if (this._document.exitFullscreen) {\n        this._document.exitFullscreen();\n      }\n\n      this._fullscreen = false;\n    }\n  }\n\n  private _setDefaultAnimationStyle(): void {\n    this.imageWrappers.toArray().forEach((wrapper, index) => {\n      if (index === this.activeModalImageIndex) {\n        return;\n      }\n\n      const isNextWrapper = index > this.index;\n\n      this._renderer.setStyle(wrapper.nativeElement, 'left', isNextWrapper ? '-100%' : '100%');\n      this._renderer.setStyle(wrapper.nativeElement, 'transform', 'scale(0.25)');\n    });\n  }\n\n  private _preloadInactiveImages(): void {\n    const nextIndex = this.index < this.lightboxItems.toArray().length - 1 ? this.index + 1 : 0;\n    const previousIndex = this.index > 0 ? this.index - 1 : this.lightboxItems.toArray().length - 1;\n\n    this.previousImage.src =\n      this.lightboxItems.toArray()[previousIndex].img ||\n      this.lightboxItems.toArray()[previousIndex].el.nativeElement.src;\n    this.previousImage.alt = this.lightboxItems.toArray()[previousIndex].el.nativeElement.alt;\n\n    this.nextImage.src =\n      this.lightboxItems.toArray()[nextIndex].img ||\n      this.lightboxItems.toArray()[nextIndex].el.nativeElement.src;\n    this.nextImage.alt = this.lightboxItems.toArray()[nextIndex].el.nativeElement.alt;\n  }\n\n  private _onKeyup(event: KeyboardEvent): void {\n    this._resetToolsToggler();\n    switch (event.key) {\n      case 'ArrowRight':\n        this.slide();\n        break;\n      case 'ArrowLeft':\n        this.slide('left');\n        break;\n      case 'Escape':\n        this.close();\n        break;\n      case 'Home':\n        this.slide('first');\n        break;\n      case 'End':\n        this.slide('last');\n        break;\n      case 'ArrowUp':\n        this.zoomIn();\n        break;\n      case 'ArrowDown':\n        this.zoomOut();\n        break;\n      default:\n        break;\n    }\n  }\n\n  private _moveImg(target: HTMLElement): void {\n    if (this._scale !== 1 || target !== this.activeImageElement || this.lightboxItems.length <= 1) {\n      return;\n    }\n\n    const movement = this._positionX - this._originalPositionX;\n\n    if (movement > 0) {\n      this.slide('left');\n    } else if (movement < 0) {\n      this.slide();\n    }\n  }\n\n  private _setActiveImageData(): void {\n    this.activeImageElement.src =\n      this.activeLightboxItem.img || this.activeLightboxItem.el.nativeElement.src;\n    this.activeImageElement.alt = this.activeLightboxItem.el.nativeElement.alt;\n  }\n\n  private _setNewPositionOnZoomIn(event: WheelEvent): void {\n    clearTimeout(this._zoomTimer);\n    this._positionX = window.innerWidth / 2 - event.offsetX - 50;\n    this._positionY = window.innerHeight / 2 - event.offsetY - 50;\n\n    this._renderer.setStyle(this.activeImageElement, 'transition', 'all 0.5s ease-out');\n    this._renderer.setStyle(this.activeImageElement, 'left', `${this._positionX}px`);\n    this._renderer.setStyle(this.activeImageElement, 'top', `${this._positionY}px`);\n\n    this._zoomTimer = setTimeout(() => {\n      this._renderer.setStyle(this.activeImageElement, 'transition', 'none');\n    }, 500);\n  }\n\n  private _resetToolsToggler(): void {\n    this.toggleToolbar(1);\n    clearTimeout(this._toolsToggleTimer);\n    this._setToolsToggleTimeout();\n  }\n\n  toggleToolbar(opacity: number): void {\n    this._renderer.setStyle(this.galleryToolbar.nativeElement, 'opacity', opacity);\n    this._renderer.setStyle(this.leftArrow.nativeElement, 'opacity', opacity);\n    this._renderer.setStyle(this.rightArrow.nativeElement, 'opacity', opacity);\n  }\n\n  private _setToolsToggleTimeout(): void {\n    this._toolsToggleTimer = setTimeout(() => {\n      this.toggleToolbar(0);\n      clearTimeout(this._toolsToggleTimer);\n    }, this._toolsTimeout);\n  }\n\n  onWheel(event: WheelEvent): void {\n    if (event.deltaY > 0) {\n      this.zoomOut();\n    } else {\n      if (this._scale >= 3) return;\n      this._setNewPositionOnZoomIn(event);\n      this.zoomIn();\n    }\n  }\n\n  zoomIn(): void {\n    if (this._scale >= 3) {\n      return;\n    }\n\n    this.lightbox.lightboxZoomIn.emit();\n\n    this._scale += this.zoomLevel;\n    this._renderer.setStyle(this.activeImageWrapper, 'transform', `scale(${this._scale})`);\n    this._updateZoomBtn();\n\n    this.lightbox.lightboxZoomedIn.emit();\n  }\n\n  zoomOut(): void {\n    if (this._scale <= 1) {\n      return;\n    }\n\n    this.lightbox.lightboxZoomOut.emit();\n\n    this._scale -= this.zoomLevel;\n    this._renderer.setStyle(this.activeImageWrapper, 'transform', `scale(${this._scale})`);\n\n    this._updateZoomBtn();\n    this._updateImgPosition();\n\n    this.lightbox.lightboxZoomedOut.emit();\n  }\n\n  slide(target = 'right'): void {\n    if (this.lightboxItems.length <= 1) {\n      return;\n    }\n    this.lightbox.lightboxSlide.emit();\n\n    if (target === 'right' || target === 'first') {\n      this.slideRight = true;\n    } else {\n      this.slideRight = false;\n    }\n\n    clearTimeout(this._slideTimer);\n\n    this._renderer.setStyle(this.activeImageWrapper, 'transform', 'scale(0.25)');\n    this._renderer.setStyle(this.activeImageWrapper, 'left', this.slideRight ? '-100%' : '100%');\n\n    if (target === 'right' || target === 'first') {\n      this.slideRight = true;\n    } else {\n      this.slideRight = false;\n    }\n\n    clearTimeout(this._slideTimer);\n\n    this._renderer.setStyle(this.activeImageWrapper, 'transform', 'scale(0.25)');\n    this._renderer.setStyle(this.activeImageWrapper, 'left', this.slideRight ? '-100%' : '100%');\n\n    switch (target) {\n      case 'right':\n        this.index + 1 === this.total ? (this.index = 0) : (this.index += 1);\n        this.activeModalImageIndex + 1 === this.imageWrappers.length\n          ? (this.activeModalImageIndex = 0)\n          : (this.activeModalImageIndex += 1);\n        break;\n      case 'left':\n        this.index - 1 < 0 ? (this.index = this.total - 1) : (this.index -= 1);\n        this.activeModalImageIndex - 1 < 0\n          ? (this.activeModalImageIndex = this.imageWrappers.length - 1)\n          : (this.activeModalImageIndex -= 1);\n        break;\n      case 'first':\n        this.index = 0;\n        this.activeModalImageIndex = 0;\n        break;\n      case 'last':\n        this.index = this.lightboxItems.length - 1;\n        this.activeModalImageIndex = 2;\n        break;\n      default:\n        break;\n    }\n\n    this._updateActiveLightboxItem();\n    this._preloadInactiveImages();\n\n    if (this.activeImageElement.src) {\n      return;\n    }\n\n    fromEvent(this.activeImageWrapper, 'transitionend')\n      .pipe(take(1))\n      .subscribe(() => {\n        this._showLoader();\n      });\n  }\n\n  reset(): void {\n    if (this._fullscreen) {\n      this.toggleFullscreen();\n    }\n\n    this._restoreDefaultPosition();\n    this._restoreDefaultZoom();\n    clearTimeout(this._toolsToggleTimer);\n    clearTimeout(this._doubleTapTimer);\n  }\n\n  private _disableScroll(): void {\n    this._renderer.addClass(this._document.body, 'disabled-scroll');\n\n    if (this._document.documentElement.scrollHeight > this._document.documentElement.clientHeight) {\n      this._renderer.addClass(this._document.body, 'replace-scrollbar');\n    }\n  }\n\n  private _enableScroll(): void {\n    this._renderer.removeClass(this._document.body, 'disabled-scroll');\n    this._renderer.removeClass(this._document.body, 'replace-scrollbar');\n  }\n\n  private _restoreDefaultZoom(): void {\n    if (this._scale !== 1) {\n      this._scale = 1;\n\n      this._renderer.setStyle(this.activeImageWrapper, 'transform', `scale(${this._scale})`);\n\n      this._updateZoomBtn();\n      this._updateImgPosition();\n    }\n  }\n\n  private _updateImgPosition(): void {\n    if (this._scale === 1) {\n      this._restoreDefaultPosition();\n    }\n  }\n\n  private _checkDoubleTap(event: MouseEvent): void {\n    clearTimeout(this._doubleTapTimer);\n    const currentTime = new Date().getTime();\n    const tapLength = currentTime - this._tapTime;\n\n    if (this._tapCounter > 0 && tapLength < 500) {\n      this._onDoubleClick(event);\n      this._doubleTapTimer = setTimeout(() => {\n        this._tapTime = new Date().getTime();\n        this._tapCounter = 0;\n      }, this._doubleTapTimeout);\n    } else {\n      this._tapCounter++;\n      this._tapTime = new Date().getTime();\n    }\n  }\n\n  private _onDoubleClick(event: MouseEvent | TouchEvent): void {\n    const touchEvent = event as TouchEvent;\n\n    if (touchEvent.touches) {\n      this._setNewPositionOnZoomIn(event as WheelEvent);\n    }\n\n    if (this._scale !== 1) {\n      this._restoreDefaultZoom();\n    } else {\n      this.zoomIn();\n    }\n  }\n\n  private _updateZoomBtn(): void {\n    if (this._scale > 1) {\n      this._renderer.addClass(this.btnZoom.nativeElement, 'active');\n      this._renderer.setAttribute(this.btnZoom.nativeElement, 'aria-label', 'Zoom out');\n    } else {\n      this._renderer.removeClass(this.btnZoom.nativeElement, 'active');\n      this._renderer.setAttribute(this.btnZoom.nativeElement, 'aria-label', 'Zoom in');\n    }\n  }\n\n  private _restoreDefaultPosition(): void {\n    clearTimeout(this._zoomTimer);\n\n    this._renderer.setStyle(this.activeImageElement, 'left', 0);\n    this._renderer.setStyle(this.activeImageElement, 'top', 0);\n    this._renderer.setStyle(this.activeImageElement, 'transition', 'all 0.5s ease-out');\n\n    this._calculateImgSize();\n\n    setTimeout(() => {\n      this._renderer.setStyle(this.activeImageElement, 'transition', 'none');\n    }, 500);\n  }\n\n  private _updateActiveLightboxItem(): void {\n    this.activeLightboxItem = this.lightboxItems.toArray()[this.index];\n    this._setActiveImageData();\n    this._cdRef.markForCheck();\n  }\n\n  load(): void {\n    this._hideLoader();\n\n    if (this.activeImageWrapper.style.transform == 'scale(0.25)') {\n      this._renderer.setStyle(this.activeImageWrapper, 'transition', 'none');\n      this._renderer.setStyle(this.activeImageWrapper, 'left', this.slideRight ? '100%' : '-100%');\n\n      this._slideTimer = setTimeout(() => {\n        this._renderer.setStyle(this.activeImageWrapper, 'transition', '');\n        this._renderer.setStyle(this.activeImageWrapper, 'left', '0');\n        this._renderer.setStyle(this.activeImageWrapper, 'transform', 'scale(1)');\n\n        this.lightbox.lightboxSlided.emit();\n      }, 0);\n    }\n\n    this._calculateImgSize();\n  }\n\n  private _showLoader(): void {\n    if (this.activeImageElement.src) {\n      return;\n    }\n    this._renderer.setStyle(this.loader.nativeElement, 'opacity', 1);\n  }\n\n  private _hideLoader(): void {\n    this._renderer.setStyle(this.loader.nativeElement, 'opacity', 0);\n  }\n\n  private _calculateImgSize(): void {\n    if (this.activeImageElement.width >= this.activeImageElement.height) {\n      this._renderer.setStyle(this.activeImageElement, 'width', '100%');\n      this._renderer.setStyle(this.activeImageElement, 'maxWidth', '100%');\n      this._renderer.setStyle(this.activeImageElement, 'height', 'auto');\n\n      const top = `${\n        (this.activeImageWrapper.offsetHeight - this.activeImageElement.height) / 2\n      }px`;\n\n      this._renderer.setStyle(this.activeImageElement, 'top', top);\n      this._renderer.setStyle(this.activeImageElement, 'left', 0);\n    } else {\n      this._renderer.setStyle(this.activeImageElement, 'height', '100%');\n      this._renderer.setStyle(this.activeImageElement, 'maxHeight', '100%');\n      this._renderer.setStyle(this.activeImageElement, 'width', 'auto');\n\n      const left = `${(this.activeImageWrapper.offsetWidth - this.activeImageElement.width) / 2}px`;\n\n      this._renderer.setStyle(this.activeImageElement, 'left', left);\n      this._renderer.setStyle(this.activeImageElement, 'top', 0);\n    }\n\n    if (this.activeImageElement.width >= this.activeImageWrapper.offsetWidth) {\n      this._renderer.setStyle(\n        this.activeImageElement,\n        'width',\n        `${this.activeImageWrapper.offsetWidth}px`\n      );\n      this._renderer.setStyle(this.activeImageElement, 'height', 'auto');\n      this._renderer.setStyle(this.activeImageElement, 'height', 'auto');\n\n      const top = `${\n        (this.activeImageWrapper.offsetHeight - this.activeImageElement.height) / 2\n      }px`;\n\n      this._renderer.setStyle(this.activeImageElement, 'top', top);\n      this._renderer.setStyle(this.activeImageElement, 'left', 0);\n    }\n\n    if (this.activeImageElement.height >= this.activeImageWrapper.offsetHeight) {\n      this._renderer.setStyle(\n        this.activeImageElement,\n        'height',\n        `${this.activeImageWrapper.offsetHeight}px`\n      );\n      this._renderer.setStyle(this.activeImageElement, 'width', 'auto');\n      this._renderer.setStyle(this.activeImageElement, 'top', 0);\n\n      const left = `${(this.activeImageWrapper.offsetWidth - this.activeImageElement.width) / 2}px`;\n\n      this._renderer.setStyle(this.activeImageElement, 'left', left);\n    }\n  }\n}\n","<div #galleryToolbar class=\"lightbox-gallery-toolbar\">\n  <div #loader class=\"lightbox-gallery-loader\" style=\"opacity: 0\">\n    <div class=\"spinner-grow text-light\" role=\"status\">\n      <span class=\"sr-only\">Loading...</span>\n    </div>\n  </div>\n  <div class=\"lightbox-gallery-left-tools\">\n    <p class=\"lightbox-gallery-counter\">{{ index + 1 }} / {{ total }}</p>\n  </div>\n  <div class=\"lightbox-gallery-right-tools\">\n    <button\n      type=\"button\"\n      #btnFullsreen\n      class=\"lightbox-gallery-button lightbox-gallery-fullscreen-btn\"\n      [ngClass]=\"{ 'fontawesome-pro': lightbox.fontAwesome === 'pro' }\"\n      aria-label=\"Toggle fullscreen\"\n      (click)=\"toggleFullscreen()\"\n    ></button>\n    <button\n      type=\"button\"\n      #btnZoom\n      class=\"lightbox-gallery-button lightbox-gallery-zoom-btn\"\n      [ngClass]=\"{ 'fontawesome-pro': lightbox.fontAwesome === 'pro' }\"\n      aria-label=\"Zoom in\"\n      (click)=\"zoom()\"\n    ></button>\n    <button\n      type=\"button\"\n      class=\"lightbox-gallery-button lightbox-gallery-close-btn\"\n      [ngClass]=\"{ 'fontawesome-pro': lightbox.fontAwesome === 'pro' }\"\n      aria-label=\"Close\"\n      (click)=\"close()\"\n    ></button>\n  </div>\n</div>\n\n<div class=\"lightbox-gallery-content\">\n  <ng-container *ngFor=\"let item of [].constructor(3); let index = index\">\n    <div \n      #imageWrapper\n      class=\"lightbox-gallery-image\"\n      [ngStyle]=\"{'opacity': activeModalImageIndex === index ? '1' : '0'}\"\n    >\n      <img\n        #image\n        draggable=\"false\"\n        @fade\n        (load)=\"load()\"\n        (mousedown)=\"onMousedown($event)\"\n        (mouseup)=\"onMouseup($event)\"\n        (mousemove)=\"onMousemove($event)\"\n        (wheel)=\"onWheel($event)\"\n      />\n    </div>\n  </ng-container>\n</div>\n\n<div #leftArrow class=\"lightbox-gallery-arrow-left\" style=\"opacity: 1\">\n  <button\n    type=\"button\"\n    #btnPrevious\n    aria-label=\"Previous\"\n    (click)=\"slide('left')\"\n    class=\"lightbox-gallery-button\"\n    [ngClass]=\"{ 'fontawesome-pro': lightbox.fontAwesome === 'pro' }\"\n  ></button>\n</div>\n<div #rightArrow class=\"lightbox-gallery-arrow-right\" style=\"opacity: 1\">\n  <button\n    type=\"button\"\n    #btnNext\n    aria-label=\"Next\"\n    (click)=\"slide('right')\"\n    class=\"lightbox-gallery-button\"\n    [ngClass]=\"{ 'fontawesome-pro': lightbox.fontAwesome === 'pro' }\"\n  ></button>\n</div>\n<div class=\"lightbox-gallery-caption-wrapper\">\n  <p class=\"lightbox-gallery-caption\">\n    {{ activeLightboxItem.caption || activeLightboxItem.el.nativeElement.alt }}\n  </p>\n</div>\n","import {\n  Component,\n  AfterContentInit,\n  ContentChildren,\n  QueryList,\n  ComponentRef,\n  ChangeDetectionStrategy,\n  ViewContainerRef,\n  OnDestroy,\n  ViewEncapsulation,\n  Input,\n  Output,\n  EventEmitter,\n} from '@angular/core';\nimport { MdbLightboxItemDirective } from './lightbox-item.directive';\nimport { OverlayRef, Overlay, OverlayConfig } from '@angular/cdk/overlay';\nimport { ComponentPortal } from '@angular/cdk/portal';\nimport { MdbLightboxModalComponent } from './lightbox-modal.component';\nimport { merge, Subject } from 'rxjs';\nimport { filter, startWith, switchMap, takeUntil } from 'rxjs/operators';\n\n@Component({\n  selector: 'mdb-lightbox',\n  template: '<ng-content></ng-content>',\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class MdbLightboxComponent implements AfterContentInit, OnDestroy {\n  @Input() zoomLevel = 1;\n  @Input() fontAwesome = 'free';\n\n  @Output() lightboxOpen: EventEmitter<void> = new EventEmitter();\n  @Output() lightboxOpened: EventEmitter<void> = new EventEmitter();\n  @Output() lightboxSlide: EventEmitter<void> = new EventEmitter();\n  @Output() lightboxSlided: EventEmitter<void> = new EventEmitter();\n  @Output() lightboxZoomIn: EventEmitter<void> = new EventEmitter();\n  @Output() lightboxZoomedIn: EventEmitter<void> = new EventEmitter();\n  @Output() lightboxZoomOut: EventEmitter<void> = new EventEmitter();\n  @Output() lightboxZoomedOut: EventEmitter<void> = new EventEmitter();\n  @Output() lightboxClose: EventEmitter<void> = new EventEmitter();\n  @Output() lightboxClosed: EventEmitter<void> = new EventEmitter();\n\n  @ContentChildren(MdbLightboxItemDirective, { descendants: true })\n  lightboxItems: QueryList<MdbLightboxItemDirective>;\n\n  private _destroy$: Subject<void> = new Subject();\n\n  private _contentRef: ComponentRef<MdbLightboxModalComponent>;\n  private _overlayRef: OverlayRef | null;\n  private _portal: ComponentPortal<MdbLightboxModalComponent>;\n\n  constructor(private _overlay: Overlay, private _vcr: ViewContainerRef) {}\n\n  ngAfterContentInit(): void {\n    this.lightboxItems.changes\n      .pipe(\n        startWith(this.lightboxItems),\n        switchMap((items: QueryList<MdbLightboxItemDirective>) => {\n          return merge(...items.map((item: MdbLightboxItemDirective) => item.click$));\n        }),\n        takeUntil(this._destroy$)\n      )\n      .subscribe((clickedItem: MdbLightboxItemDirective) => {\n        this.open(clickedItem);\n      });\n  }\n\n  private _patchInputValues(lightboxItem: MdbLightboxItemDirective) {\n    this._contentRef.instance.lightboxItems = this.lightboxItems;\n    this._contentRef.instance.activeLightboxItem = lightboxItem;\n    this._contentRef.instance.zoomLevel = this.zoomLevel;\n  }\n\n  open(lightboxItem: MdbLightboxItemDirective): void {\n    let overlayRef = this._overlayRef;\n    if (!overlayRef) {\n      this.lightboxOpen.emit();\n\n      this._portal = new ComponentPortal(MdbLightboxModalComponent, this._vcr);\n      overlayRef = this._overlay.create(this._getOverlayConfig());\n\n      this._overlayRef = overlayRef;\n    }\n\n    if (overlayRef && this._overlayRef && !overlayRef.hasAttached()) {\n      this._contentRef = this._overlayRef.attach(this._portal);\n      this._patchInputValues(lightboxItem);\n      this._listenToOutsideClick();\n\n      this.lightboxOpened.emit();\n    }\n  }\n\n  close(): void {\n    if (this._overlayRef && this._overlayRef.backdropElement) {\n      this.lightboxClose.emit();\n\n      const cssTransitionDuration =\n        parseFloat(getComputedStyle(this._overlayRef.backdropElement).transitionDuration) * 1000;\n\n      setTimeout(() => {\n        this._destroyOverlay();\n        this.lightboxClosed.emit();\n      }, cssTransitionDuration);\n    }\n  }\n\n  slide(direction: 'right' | 'left' | 'first' | 'last'): void {\n    this._contentRef.instance.slide(direction);\n  }\n\n  zoomIn(): void {\n    this._contentRef.instance.zoomIn();\n  }\n\n  zoomOut(): void {\n    this._contentRef.instance.zoomOut();\n  }\n\n  toggleFullscreen(): void {\n    this._contentRef.instance.toggleFullscreen();\n  }\n\n  reset(): void {\n    this._contentRef.instance.reset();\n  }\n\n  private _getOverlayConfig(): OverlayConfig {\n    const positionStrategy = this._overlay\n      .position()\n      .global()\n      .centerHorizontally()\n      .centerVertically();\n    const overlayConfig = new OverlayConfig({\n      hasBackdrop: true,\n      scrollStrategy: this._overlay.scrollStrategies.noop(),\n      positionStrategy,\n      backdropClass: 'lightbox-gallery',\n    });\n    return overlayConfig;\n  }\n\n  private _destroyOverlay() {\n    if (this._overlayRef) {\n      this._overlayRef.dispose();\n      this._overlayRef = null;\n    }\n  }\n\n  private _listenToOutsideClick(): void {\n    if (this._overlayRef) {\n      merge(\n        this._overlayRef.backdropClick(),\n        this._overlayRef.detachments(),\n        this._overlayRef.keydownEvents().pipe(\n          filter((event: KeyboardEvent) => {\n            return event.key === 'escape';\n          })\n        )\n      ).subscribe((event) => {\n        if (event) {\n          event.preventDefault();\n        }\n        this.close();\n      });\n    }\n  }\n\n  ngOnDestroy(): void {\n    this._destroy$.next();\n    this._destroy$.complete();\n    this._destroyOverlay();\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { OverlayModule } from '@angular/cdk/overlay';\nimport { MdbLightboxItemDirective } from './lightbox-item.directive';\nimport { MdbLightboxComponent } from './lightbox.component';\nimport { MdbLightboxModalComponent } from './lightbox-modal.component';\n\n@NgModule({\n  imports: [CommonModule, OverlayModule],\n  declarations: [MdbLightboxComponent, MdbLightboxItemDirective, MdbLightboxModalComponent],\n  exports: [MdbLightboxComponent, MdbLightboxItemDirective, MdbLightboxModalComponent],\n})\nexport class MdbLightboxModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":["i1"],"mappings":"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"}