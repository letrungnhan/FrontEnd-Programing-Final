{"version":3,"file":"mdb-angular-ui-kit-loading.mjs","sources":["../../../projects/mdb-angular-ui-kit/loading/loading.component.ts","../../../projects/mdb-angular-ui-kit/loading/loading.component.html","../../../projects/mdb-angular-ui-kit/loading/loading.module.ts","../../../projects/mdb-angular-ui-kit/loading/mdb-angular-ui-kit-loading.ts"],"sourcesContent":["import { BooleanInput, coerceBooleanProperty } from '@angular/cdk/coercion';\nimport { Overlay, OverlayConfig, OverlayRef } from '@angular/cdk/overlay';\nimport { TemplatePortal } from '@angular/cdk/portal';\nimport {\n  AfterViewInit,\n  Component,\n  Input,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  Renderer2,\n  SimpleChanges,\n  TemplateRef,\n  ViewChild,\n  ViewContainerRef,\n} from '@angular/core';\n\n@Component({\n  selector: 'mdb-loading',\n  templateUrl: './loading.component.html',\n})\nexport class MdbLoadingComponent implements OnInit, AfterViewInit, OnChanges, OnDestroy {\n  @ViewChild('template') template: TemplateRef<any>;\n\n  @Input()\n  get show(): boolean {\n    return this._show;\n  }\n  set show(value: boolean) {\n    this._show = coerceBooleanProperty(value);\n  }\n  private _show = false;\n\n  @Input()\n  get backdrop(): boolean {\n    return this._backdrop;\n  }\n  set backdrop(value: boolean) {\n    this._backdrop = coerceBooleanProperty(value);\n  }\n  private _backdrop = true;\n\n  @Input() backdropClass: string;\n  @Input() container: HTMLElement;\n\n  @Input()\n  get fullscreen(): boolean {\n    return this._fullscreen;\n  }\n  set fullscreen(value: boolean) {\n    this._fullscreen = coerceBooleanProperty(value);\n  }\n  private _fullscreen = false;\n\n  private _overlayRef: OverlayRef;\n\n  constructor(\n    private _renderer: Renderer2,\n    private _overlay: Overlay,\n    private _vcr: ViewContainerRef\n  ) {}\n\n  ngOnInit(): void {\n    if (this.container && !this.fullscreen) {\n      this._renderer.addClass(this.container, 'position-relative');\n    }\n  }\n\n  ngAfterViewInit(): void {\n    if (this.show && this.fullscreen) {\n      this.showFullscreen();\n    }\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (\n      changes.show &&\n      changes.show.currentValue &&\n      !changes.show.isFirstChange() &&\n      this.fullscreen\n    ) {\n      this.showFullscreen();\n    } else if (\n      changes.show &&\n      !changes.show.currentValue &&\n      !changes.show.isFirstChange() &&\n      this.fullscreen\n    ) {\n      this.hideFullscreen();\n    }\n  }\n\n  showFullscreen(): void {\n    this._overlayRef = this._createOverlay();\n    const templatePortal = new TemplatePortal(this.template, this._vcr);\n    this._overlayRef.attach(templatePortal);\n  }\n\n  hideFullscreen(): void {\n    this._overlayRef.detach();\n  }\n\n  private _createOverlay(): OverlayRef {\n    const config = this._getOverlayConfig();\n    return this._overlay.create(config);\n  }\n\n  private _getOverlayConfig(): OverlayConfig {\n    const config = new OverlayConfig({\n      positionStrategy: this._overlay.position().global(),\n      scrollStrategy: this._overlay.scrollStrategies.noop(),\n      hasBackdrop: this.backdrop,\n      backdropClass: this._getBackdropClass(),\n    });\n\n    return config;\n  }\n\n  private _getBackdropClass(): string[] {\n    const classes = [];\n\n    if (this.backdropClass) {\n      this.backdropClass.split(' ').forEach((backdropClass: string) => {\n        classes.push(backdropClass);\n      });\n    }\n    return ['loading-backdrop-fullscreen', ...classes];\n  }\n\n  ngOnDestroy(): void {\n    if (this._overlayRef) {\n      this._overlayRef.detach();\n      this._overlayRef.dispose();\n    }\n  }\n\n  static ngAcceptInputType_backdrop: BooleanInput;\n  static ngAcceptInputType_fullscreen: BooleanInput;\n  static ngAcceptInputType_show: BooleanInput;\n}\n","<ng-template #template><ng-content></ng-content></ng-template>\n\n<ng-container *ngIf=\"!fullscreen && show\" [ngTemplateOutlet]=\"template\"></ng-container>\n<div *ngIf=\"!fullscreen && show && backdrop\" class=\"loading-backdrop {{ backdropClass }}\"></div>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { OverlayModule } from '@angular/cdk/overlay';\nimport { PortalModule } from '@angular/cdk/portal';\nimport { MdbLoadingComponent } from './loading.component';\n\n@NgModule({\n  imports: [CommonModule, OverlayModule, PortalModule],\n  declarations: [MdbLoadingComponent],\n  exports: [MdbLoadingComponent],\n})\nexport class MdbLoadingModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":[],"mappings":"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"}