{"version":3,"file":"mdb-angular-ui-kit-sticky.mjs","sources":["../../../projects/mdb-angular-ui-kit/sticky/sticky.directive.ts","../../../projects/mdb-angular-ui-kit/sticky/sticky.module.ts","../../../projects/mdb-angular-ui-kit/sticky/mdb-angular-ui-kit-sticky.ts"],"sourcesContent":["import {\n  AfterContentInit,\n  Directive,\n  ElementRef,\n  EventEmitter,\n  Input,\n  NgZone,\n  OnDestroy,\n  Output,\n  Renderer2,\n} from '@angular/core';\nimport { fromEvent, Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\nimport {\n  MdbStickyPosition,\n  MdbStickyDirection,\n  MdbStickyOffset,\n  MdbStickyElementStyles,\n  MdbStickyStyles,\n} from './sticky.types';\n\n@Directive({\n  // tslint:disable-next-line: directive-selector\n  selector: '[mdbSticky]',\n  exportAs: 'mdbSticky',\n})\n// tslint:disable-next-line:component-class-suffix\nexport class MdbStickyDirective implements AfterContentInit, OnDestroy {\n  @Input()\n  get stickyMedia(): number {\n    return this._stickyMedia;\n  }\n  set stickyMedia(value: number) {\n    this._stickyMedia = value;\n  }\n\n  @Input()\n  get stickyDirection(): MdbStickyDirection {\n    return this._stickyDirection;\n  }\n  set stickyDirection(value: MdbStickyDirection) {\n    this._stickyDirection = value;\n  }\n\n  @Input()\n  get stickyDelay(): number {\n    return this._stickyDelay;\n  }\n  set stickyDelay(value: number) {\n    this._stickyDelay = value;\n  }\n\n  @Input()\n  get stickyPosition(): MdbStickyPosition {\n    return this._stickyPosition;\n  }\n  set stickyPosition(value: MdbStickyPosition) {\n    this._stickyPosition = value;\n  }\n\n  @Input()\n  get stickyActiveClass(): string {\n    return this._stickyActiveClass;\n  }\n  set stickyActiveClass(value: string) {\n    this._stickyActiveClass = value;\n  }\n\n  @Input()\n  get stickyOffset(): number {\n    return this._stickyOffset;\n  }\n  set stickyOffset(value: number) {\n    this._stickyOffset = value;\n  }\n\n  @Input()\n  get stickyBoundary(): HTMLElement {\n    return this._stickyBoundary;\n  }\n  set stickyBoundary(value: HTMLElement) {\n    this._stickyBoundary = value;\n  }\n\n  @Output() active: EventEmitter<void> = new EventEmitter();\n  @Output() inactive: EventEmitter<void> = new EventEmitter();\n  @Output() startInactive: EventEmitter<void> = new EventEmitter();\n\n  private _stickyMedia = 0;\n  private _manuallyDeactivated = false;\n  private _stickyDirection: MdbStickyDirection = 'down';\n  private _stickyDelay = 0;\n  private _stickyPosition: MdbStickyPosition = 'top';\n  private _stickyActiveClass: string;\n  private _stickyOffset = 0;\n  private _stickyBoundary: HTMLElement;\n\n  private _scrollDirection: string;\n  private _pushPoint: number;\n  private _elementPositionStyles: MdbStickyElementStyles = {};\n  private _scrollTop = 0;\n  private _hiddenElement: HTMLElement;\n  private _elementOffsetTop = 0;\n\n  isSticked = false;\n\n  readonly _destroy$: Subject<void> = new Subject<void>();\n\n  constructor(\n    private _elementRef: ElementRef,\n    private _renderer: Renderer2,\n    private _ngZone: NgZone\n  ) {}\n\n  ngAfterContentInit(): void {\n    this._ngZone.runOutsideAngular(() => {\n      fromEvent(window, 'resize')\n        .pipe(takeUntil(this._destroy$))\n        .subscribe(() => {\n          this._updateElementPosition();\n          this._updateElementOffset();\n        });\n      fromEvent(window, 'scroll')\n        .pipe(takeUntil(this._destroy$))\n        .subscribe(() => {\n          if (window.innerWidth <= this.stickyMedia) {\n            return;\n          }\n\n          if (this._manuallyDeactivated) {\n            return;\n          }\n\n          const doc = document.documentElement;\n          const scrollTop = window.pageYOffset || doc.scrollTop;\n\n          this._updateElementOffset();\n          this._updatePushPoint();\n          this._updateScrollDirection(scrollTop);\n\n          const isCorrectScrollDirection = [this._scrollDirection, 'both'].includes(\n            this.stickyDirection\n          );\n          const isPushPointReached = this._pushPoint <= scrollTop;\n\n          const shouldBeSticky = isPushPointReached && !this.isSticked && isCorrectScrollDirection;\n          const shouldNotBeSticky =\n            (!isPushPointReached || !isCorrectScrollDirection) && this.isSticked;\n\n          if (shouldBeSticky) {\n            this._createHiddenElement();\n            this._enableSticky();\n            this._changeBoundaryPosition();\n            this.isSticked = true;\n          }\n\n          if (shouldNotBeSticky) {\n            this._disableSticky();\n            this.isSticked = false;\n          }\n\n          if (this.isSticked) {\n            this._updatePosition(this._elementPositionStyles);\n            this._changeBoundaryPosition();\n          }\n\n          this._scrollTop = scrollTop <= 0 ? 0 : scrollTop;\n        });\n    });\n  }\n\n  ngOnDestroy(): void {\n    this._destroy$.next();\n    this._destroy$.complete();\n  }\n\n  private _updateElementOffset(): void {\n    if (this._hiddenElement) {\n      this._elementOffsetTop = this._hiddenElement.offsetTop;\n    } else {\n      this._elementOffsetTop = this._elementRef.nativeElement.offsetTop;\n    }\n  }\n\n  private _updatePushPoint(): void {\n    if (this.stickyPosition === 'top') {\n      this._pushPoint = this._elementOffsetTop - this.stickyDelay;\n    } else {\n      this._pushPoint =\n        this._elementOffsetTop +\n        this._elementRef.nativeElement.height -\n        document.body.scrollHeight +\n        this.stickyDelay;\n    }\n  }\n\n  private _updateScrollDirection(scrollTop: number): void {\n    if (scrollTop > this._scrollTop) {\n      this._scrollDirection = 'down';\n    } else {\n      this._scrollDirection = 'up';\n    }\n  }\n\n  private _createHiddenElement(): void {\n    if (!this._hiddenElement) {\n      this._hiddenElement = this._copyElement(this._elementRef.nativeElement);\n    }\n  }\n\n  private _copyElement(itemToCopy: HTMLElement): HTMLElement {\n    const { height, width } = itemToCopy.getBoundingClientRect();\n    const COPIED_ITEM = itemToCopy.cloneNode(false) as HTMLElement;\n    COPIED_ITEM.hidden = true;\n\n    this._setStyle(COPIED_ITEM, {\n      height: `${height}px`,\n      width: `${width}px`,\n      opacity: '0',\n    });\n\n    itemToCopy.parentElement.insertBefore(COPIED_ITEM, itemToCopy);\n\n    return COPIED_ITEM;\n  }\n\n  private _setStyle(element: HTMLElement, styles: MdbStickyStyles): void {\n    Object.keys(styles).forEach((style) => {\n      this._renderer.setStyle(element, style, styles[style]);\n    });\n  }\n\n  private _enableSticky(): void {\n    const { height, left, width } = this._elementRef.nativeElement.getBoundingClientRect();\n\n    this._toggleClass(this.stickyActiveClass, '', this._elementRef.nativeElement);\n\n    this._setStyle(this._elementRef.nativeElement, {\n      top: this.stickyPosition === 'top' && `${0 + this.stickyOffset}px`,\n      bottom: this.stickyPosition === 'bottom' && `${0 + this.stickyOffset}px`,\n      height: `${height}px`,\n      width: `${width}px`,\n      left: `${left}px`,\n      zIndex: '100',\n      position: 'fixed',\n    });\n\n    this._hiddenElement.hidden = false;\n\n    this.active.emit();\n  }\n\n  private _toggleClass(addClass: string, removeClass: string, target: HTMLElement): void {\n    if (addClass) {\n      this._renderer.addClass(target, addClass);\n    }\n\n    if (removeClass) {\n      this._renderer.removeClass(target, removeClass);\n    }\n  }\n\n  private _changeBoundaryPosition(): void {\n    const { height } = this._elementRef.nativeElement.getBoundingClientRect();\n    const parentOffset = {\n      height: this._elementRef.nativeElement.parentElement.getBoundingClientRect().height,\n      ...this._getOffset(this._elementRef.nativeElement.parentElement),\n    };\n\n    let stopPoint: number;\n\n    if (this._elementRef.nativeElement.parentElement === this.stickyBoundary) {\n      stopPoint =\n        parentOffset.height + parentOffset[this.stickyPosition] - height - this.stickyOffset;\n    } else {\n      stopPoint = this._getOffset(this.stickyBoundary).top - height - this.stickyOffset;\n    }\n\n    const isStickyTop = this.stickyPosition === 'top';\n    const isStickyBottom = this.stickyPosition === 'bottom';\n    const isBelowStopPoint = stopPoint < 0;\n    const isBelowParentElementEnd = stopPoint > parentOffset.height - height;\n    let elementStyle: MdbStickyStyles;\n\n    if (isStickyTop) {\n      if (isBelowStopPoint) {\n        elementStyle = { top: `${this.stickyOffset + stopPoint}px` };\n      } else {\n        elementStyle = { top: `${this.stickyOffset + 0}px` };\n      }\n    }\n\n    if (isStickyBottom) {\n      if (isBelowStopPoint) {\n        elementStyle = { bottom: `${this.stickyOffset + stopPoint}px` };\n      } else if (isBelowParentElementEnd) {\n        elementStyle = { bottom: `${this.stickyOffset + parentOffset.bottom}px` };\n      } else {\n        elementStyle = { bottom: `${this.stickyOffset + 0}px` };\n      }\n    }\n\n    this._setStyle(this._elementRef.nativeElement, elementStyle);\n  }\n\n  private _getOffset(element: HTMLElement): MdbStickyOffset {\n    const rectElement = element.getBoundingClientRect();\n    const offsetElement = {\n      top: rectElement.top + document.body.scrollTop,\n      left: rectElement.left + document.body.scrollLeft,\n    };\n\n    const bottom =\n      offsetElement.left === 0 && offsetElement.top === 0\n        ? 0\n        : window.innerHeight - rectElement.bottom;\n\n    return {\n      ...offsetElement,\n      bottom,\n    };\n  }\n\n  private _disableSticky(): void {\n    this.startInactive.emit();\n\n    const animationDuration = parseFloat(\n      getComputedStyle(this._elementRef.nativeElement).animationDuration\n    );\n\n    setTimeout(() => {\n      this._resetStyles();\n      this._removeHiddenElement();\n      this._toggleClass('', this.stickyActiveClass, this._elementRef.nativeElement);\n\n      this.inactive.emit();\n    }, animationDuration);\n  }\n\n  private _resetStyles(): void {\n    this._setStyle(this._elementRef.nativeElement, {\n      top: null,\n      bottom: null,\n      position: null,\n      left: null,\n      zIndex: null,\n      width: null,\n      height: null,\n    });\n  }\n\n  private _removeHiddenElement(): void {\n    if (!this._hiddenElement) {\n      return;\n    }\n\n    this._hiddenElement.remove();\n    this._hiddenElement = null;\n  }\n\n  private _updatePosition(styles: MdbStickyStyles): void {\n    this._setStyle(this._elementRef.nativeElement, styles);\n  }\n\n  private _updateElementPosition(): void {\n    if (this._hiddenElement) {\n      const { left } = this._hiddenElement.getBoundingClientRect();\n\n      this._elementPositionStyles = {\n        left: `${left}px`,\n      };\n    } else {\n      this._elementPositionStyles = {};\n    }\n\n    this._setStyle(this._elementRef.nativeElement, this._elementPositionStyles);\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { MdbStickyDirective } from './sticky.directive';\n\n@NgModule({\n  imports: [CommonModule],\n  declarations: [MdbStickyDirective],\n  exports: [MdbStickyDirective],\n})\nexport class MdbStickyModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":[],"mappings":"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"}